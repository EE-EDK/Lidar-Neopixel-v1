<map id="loop1" name="loop1">
<area shape="rect" id="Node000001" title="Core 1 main loop &#45; handles processing, control, and GUI." alt="" coords="5,436,58,463"/>
<area shape="rect" id="Node000002" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a205a294e0289fe3024132114a1f13a26" title="Handle debug output during operational mode." alt="" coords="331,588,467,615"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="46,462,72,490,107,517,159,542,213,561,316,587,315,592,211,566,156,547,104,521,68,494,42,465"/>
<area shape="rect" id="Node000003" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a08e3a40d2bbfade972d374e55dfea047" title="Thread&#45;safe debug enable flag checker." alt="" coords="1005,411,1121,438"/>
<area shape="poly" id="edge7_Node000001_Node000003" title=" " alt="" coords="37,435,79,359,114,307,156,253,207,202,264,159,295,142,328,129,362,121,398,118,610,118,706,111,783,102,820,102,857,109,896,124,939,150,967,176,992,206,1012,239,1028,274,1049,341,1061,395,1055,396,1044,343,1023,276,1007,241,987,209,964,179,935,155,894,129,855,114,819,108,784,107,706,116,610,123,398,123,363,126,329,134,297,147,267,163,210,206,160,257,118,310,84,362,42,437"/>
<area shape="rect" id="Node000004" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a57190bd6f3a9bed26f0a8fafb362b0d9" title="Calculate elapsed milliseconds with overflow protection." alt="" coords="547,512,670,539"/>
<area shape="poly" id="edge59_Node000001_Node000004" title=" " alt="" coords="59,458,106,472,221,493,337,507,531,521,531,526,337,513,220,499,105,478,57,463"/>
<area shape="rect" id="Node000006" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#af7f351ea9a40f892c70b0c6bfe144b9e" title="Handle status LED indication based on system state and errors." alt="" coords="121,436,244,463"/>
<area shape="poly" id="edge5_Node000001_Node000006" title=" " alt="" coords="58,447,106,447,106,452,58,452"/>
<area shape="rect" id="Node000007" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#af9535c962a7723d8738345239a800e76" title="Core 1 state machine processor for initialization sequence." alt="" coords="308,386,490,412"/>
<area shape="poly" id="edge8_Node000001_Node000007" title=" " alt="" coords="57,437,105,422,201,407,292,399,293,405,201,412,106,427,59,442"/>
<area shape="rect" id="Node000014" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#ab045d07e05c15822335c17c065cecf19" title="Non&#45;blocking GUI packet parser and command processor." alt="" coords="106,791,260,818"/>
<area shape="poly" id="edge26_Node000001_Node000014" title=" " alt="" coords="41,463,172,775,167,777,36,465"/>
<area shape="rect" id="Node000022" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#aea50629c4ab73f068ab5c462775728dc" title="Process incoming LiDAR frames with velocity calculation and trigger logic." alt="" coords="317,259,481,286"/>
<area shape="poly" id="edge50_Node000001_Node000022" title=" " alt="" coords="47,434,104,393,166,361,229,332,341,289,343,294,231,337,168,365,107,397,50,438"/>
<area shape="rect" id="Node000026" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#abb74539d45df60dd88928ca2fda23bda" title="Read current switch position as binary code." alt="" coords="124,842,242,868"/>
<area shape="poly" id="edge56_Node000001_Node000026" title=" " alt="" coords="36,463,42,538,55,648,77,757,91,799,108,828,113,833,109,837,104,831,86,801,71,758,50,649,37,539,31,464"/>
<area shape="rect" id="Node000027" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a7dbaa93a863de674a831ee4e344f8c11" title="Report Core 1 operational status and configuration." alt="" coords="119,56,246,83"/>
<area shape="poly" id="edge57_Node000001_Node000027" title=" " alt="" coords="31,435,39,366,53,266,74,167,88,128,104,100,115,90,118,93,108,103,93,130,79,169,58,267,44,367,37,436"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="468,598,516,594,570,586,625,571,677,549,692,537,701,524,710,511,725,498,792,468,862,447,930,433,990,426,990,431,931,439,863,452,794,473,728,503,714,515,705,527,696,541,680,553,627,576,571,591,517,600,468,604"/>
<area shape="poly" id="edge3_Node000002_Node000004" title=" " alt="" coords="439,585,489,567,556,542,558,547,491,572,441,590"/>
<area shape="rect" id="Node000005" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#af6020ad975c3a06156bc4e985701be92" title="Thread&#45;safe serial output with newline." alt="" coords="1005,918,1121,944"/>
<area shape="poly" id="edge4_Node000002_Node000005" title=" " alt="" coords="406,615,423,695,453,813,472,874,493,928,516,971,540,998,573,1014,619,1023,674,1026,732,1025,848,1014,936,998,987,977,1030,951,1033,956,989,982,938,1003,849,1020,733,1031,674,1032,619,1028,572,1019,537,1003,512,974,488,930,467,875,448,815,417,697,400,616"/>
<area shape="poly" id="edge6_Node000006_Node000004" title=" " alt="" coords="245,449,360,458,426,466,491,479,563,503,562,508,490,484,425,472,359,463,245,454"/>
<area shape="poly" id="edge13_Node000007_Node000003" title=" " alt="" coords="428,383,478,362,538,346,604,338,671,337,738,342,803,351,921,377,1010,403,1009,408,919,382,802,356,738,348,671,343,604,343,539,351,480,367,430,388"/>
<area shape="poly" id="edge22_Node000007_Node000004" title=" " alt="" coords="456,411,492,429,508,445,517,461,525,476,540,492,557,503,554,507,537,496,521,479,512,463,504,448,489,433,454,415"/>
<area shape="poly" id="edge24_Node000007_Node000005" title=" " alt="" coords="412,411,451,480,474,526,493,576,499,608,502,650,505,748,514,842,524,879,540,904,565,924,592,941,651,966,714,979,779,982,844,978,905,970,1005,947,1006,952,906,975,844,984,779,987,713,984,649,971,589,946,562,929,536,907,519,881,509,843,500,748,497,651,494,609,488,577,469,529,447,482,407,414"/>
<area shape="rect" id="Node000008" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#af9326ee3cb6c978c0d99ee78852ff6e6" title="Initialize all GPIO pins for Core 1 operations." alt="" coords="544,411,673,438"/>
<area shape="poly" id="edge9_Node000007_Node000008" title=" " alt="" coords="491,407,529,412,528,417,490,413"/>
<area shape="rect" id="Node000009" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a6ad4b694f90641aa05829c1b90f172e2" title="Thread&#45;safe serial output without newline." alt="" coords="779,512,885,539"/>
<area shape="poly" id="edge23_Node000007_Node000009" title=" " alt="" coords="436,410,539,447,658,481,764,508,763,513,657,486,538,452,434,415"/>
<area shape="rect" id="Node000010" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a9aa1b236d77d8372bc8415f017204fe8" title="Load configuration from LittleFS persistent storage." alt="" coords="547,715,670,742"/>
<area shape="poly" id="edge14_Node000007_Node000010" title=" " alt="" coords="411,411,593,700,588,703,407,414"/>
<area shape="rect" id="Node000013" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a2ecb7c453215970de814af3dcac02eb2" title="Thread&#45;safe Core 1 ready flag setter." alt="" coords="539,360,678,387"/>
<area shape="poly" id="edge25_Node000007_Node000013" title=" " alt="" coords="490,385,523,381,524,387,491,391"/>
<area shape="poly" id="edge10_Node000008_Node000003" title=" " alt="" coords="673,410,726,403,832,398,937,403,990,409,990,414,937,408,832,403,727,408,674,415"/>
<area shape="poly" id="edge12_Node000008_Node000005" title=" " alt="" coords="673,419,736,421,806,433,842,443,877,457,910,475,939,498,978,545,1009,598,1031,655,1047,713,1057,770,1063,822,1065,902,1060,902,1057,823,1052,771,1041,715,1026,657,1004,600,974,548,935,502,907,480,875,462,841,448,805,438,735,427,673,424"/>
<area shape="poly" id="edge11_Node000008_Node000009" title=" " alt="" coords="641,436,788,503,785,508,639,441"/>
<area shape="poly" id="edge16_Node000010_Node000003" title=" " alt="" coords="649,712,677,694,692,675,700,655,708,635,725,616,753,597,780,586,829,578,879,572,906,564,936,549,967,526,996,500,1040,449,1044,452,1000,503,970,530,938,553,908,569,880,577,830,584,781,592,756,602,728,620,712,638,705,657,697,677,680,698,652,717"/>
<area shape="poly" id="edge21_Node000010_Node000005" title=" " alt="" coords="644,712,677,694,691,682,700,671,709,659,726,650,785,628,835,618,859,618,884,624,910,634,939,650,969,675,994,705,1014,740,1030,775,1052,846,1062,902,1056,903,1046,847,1025,777,1010,742,990,709,965,679,935,655,908,639,883,629,859,624,835,623,786,634,728,655,713,664,704,674,694,686,680,699,647,717"/>
<area shape="poly" id="edge20_Node000010_Node000009" title=" " alt="" coords="652,712,677,695,689,677,695,660,699,626,703,591,711,573,725,556,742,543,762,534,764,539,745,547,729,560,715,576,708,592,704,626,701,661,694,680,681,698,655,717"/>
<area shape="rect" id="Node000011" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#ac24e4949b7569796e2d9e2725c759b4d" title="Calculate configuration checksum for integrity verification." alt="" coords="764,664,900,691"/>
<area shape="poly" id="edge15_Node000010_Node000011" title=" " alt="" coords="670,712,755,692,756,698,671,717"/>
<area shape="rect" id="Node000012" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#aa9cd4ec7874ed2e350be0be38fbae2f1" title="Load factory default configuration parameters." alt="" coords="769,816,894,843"/>
<area shape="poly" id="edge17_Node000010_Node000012" title=" " alt="" coords="651,740,680,751,793,806,791,811,678,756,649,745"/>
<area shape="poly" id="edge18_Node000012_Node000003" title=" " alt="" coords="894,819,916,809,935,796,968,756,995,712,1016,664,1032,615,1051,523,1058,453,1063,454,1056,523,1037,616,1021,666,1000,714,973,760,939,800,919,814,896,823"/>
<area shape="poly" id="edge19_Node000012_Node000005" title=" " alt="" coords="887,841,938,859,986,883,1028,907,1026,912,983,887,936,864,885,846"/>
<area shape="poly" id="edge46_Node000014_Node000004" title=" " alt="" coords="185,790,197,747,220,688,256,626,279,598,306,574,360,546,419,529,478,520,531,518,531,524,478,526,420,534,362,551,310,579,283,602,260,629,225,690,202,749,190,792"/>
<area shape="poly" id="edge48_Node000014_Node000005" title=" " alt="" coords="248,816,262,828,278,851,289,874,299,919,296,963,287,1007,278,1050,275,1093,284,1137,294,1159,310,1181,335,1208,359,1226,384,1237,409,1244,467,1250,539,1258,655,1281,704,1290,750,1296,794,1295,838,1285,885,1265,935,1233,966,1205,991,1171,1011,1134,1027,1095,1048,1019,1057,960,1062,961,1053,1020,1032,1096,1016,1136,996,1174,970,1208,939,1237,887,1270,840,1290,795,1300,750,1301,704,1296,654,1286,538,1263,467,1255,409,1249,382,1242,357,1230,332,1212,306,1185,290,1162,279,1139,269,1094,272,1049,281,1006,290,963,293,919,284,876,274,854,258,832,245,820"/>
<area shape="poly" id="edge47_Node000014_Node000009" title=" " alt="" coords="216,788,537,654,609,628,677,597,701,580,725,563,772,543,774,547,728,568,704,585,680,601,611,633,539,659,218,793"/>
<area shape="rect" id="Node000015" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a04778dbb5ed9f5bac24e53e11538dfe0" title="Calculate 8&#45;bit checksum for data buffer." alt="" coords="985,1272,1141,1299"/>
<area shape="poly" id="edge27_Node000014_Node000015" title=" " alt="" coords="248,816,262,828,281,856,294,885,301,913,302,941,296,996,282,1050,268,1103,264,1156,267,1182,275,1207,289,1233,310,1259,347,1291,388,1318,432,1338,479,1353,527,1364,577,1369,679,1370,777,1360,869,1342,948,1322,1010,1302,1011,1307,949,1327,870,1347,778,1365,679,1376,577,1375,527,1369,478,1358,430,1343,386,1322,344,1296,306,1262,284,1236,270,1209,261,1183,258,1156,263,1103,276,1049,290,995,297,941,295,914,289,886,277,859,258,832,245,820"/>
<area shape="rect" id="Node000016" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a9955f7842e7ef7e68f5ff4e4785f4861" title="Execute validated GUI command packet." alt="" coords="326,943,473,970"/>
<area shape="poly" id="edge28_Node000014_Node000016" title=" " alt="" coords="237,816,261,827,296,851,328,878,378,929,375,933,325,882,293,855,259,832,235,821"/>
<area shape="rect" id="Node000021" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a6107d518302c3e551b151bccac4528cc" title="Send NAK (negative acknowledge) with error code." alt="" coords="572,1222,645,1248"/>
<area shape="poly" id="edge49_Node000014_Node000021" title=" " alt="" coords="246,816,262,828,277,847,286,866,291,902,295,939,300,959,310,980,361,1057,407,1112,463,1158,540,1209,558,1218,556,1223,537,1213,460,1162,404,1116,356,1060,306,983,295,961,289,940,286,902,281,867,273,850,258,832,243,821"/>
<area shape="poly" id="edge34_Node000016_Node000005" title=" " alt="" coords="416,968,467,1011,502,1032,539,1049,650,1080,696,1089,740,1093,783,1091,829,1084,879,1070,936,1049,969,1030,998,1006,1042,956,1046,959,1002,1010,972,1035,938,1053,880,1075,830,1089,784,1097,739,1098,695,1094,648,1085,537,1054,499,1037,464,1015,413,972"/>
<area shape="poly" id="edge33_Node000016_Node000009" title=" " alt="" coords="402,942,417,897,444,833,484,763,508,730,537,701,555,687,573,679,608,671,641,664,659,657,677,644,693,624,700,605,708,584,725,564,763,542,765,546,728,568,713,587,705,607,697,627,680,648,661,661,643,669,609,677,575,684,558,692,540,705,512,734,488,766,449,835,422,899,407,944"/>
<area shape="rect" id="Node000017" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#aaad6f5d477ff96137b7e88dbec15ff30" title="Perform complete factory reset operation." alt="" coords="560,867,657,894"/>
<area shape="poly" id="edge29_Node000016_Node000017" title=" " alt="" coords="437,940,554,897,556,902,439,945"/>
<area shape="rect" id="Node000018" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#abbd1ddf437f3edf0122a986a09a04359" title="Save current configuration to LittleFS persistent storage." alt="" coords="545,766,672,792"/>
<area shape="poly" id="edge35_Node000016_Node000018" title=" " alt="" coords="415,940,578,800,582,805,418,945"/>
<area shape="rect" id="Node000019" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a59b26f9d4fce762d3b68c583c703b638" title="Send ACK (acknowledge) response." alt="" coords="572,1120,645,1147"/>
<area shape="poly" id="edge40_Node000016_Node000019" title=" " alt="" coords="413,968,464,1030,500,1066,540,1100,560,1112,557,1116,537,1104,496,1070,460,1033,408,972"/>
<area shape="rect" id="Node000020" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a87ac2a3520c596f8bbf5acbd89f59c10" title="Send complete response packet to GUI." alt="" coords="757,1196,906,1223"/>
<area shape="poly" id="edge45_Node000016_Node000020" title=" " alt="" coords="408,969,424,1007,451,1059,490,1113,514,1137,540,1157,588,1181,640,1197,693,1206,742,1209,742,1215,692,1211,639,1202,586,1186,537,1161,510,1141,486,1116,447,1062,419,1010,403,971"/>
<area shape="poly" id="edge43_Node000016_Node000021" title=" " alt="" coords="409,969,468,1089,507,1156,540,1201,559,1215,556,1219,536,1205,502,1159,464,1092,404,971"/>
<area shape="poly" id="edge30_Node000017_Node000003" title=" " alt="" coords="625,864,669,833,726,802,758,792,786,788,838,789,862,789,885,786,910,776,935,758,967,725,993,686,1014,644,1029,600,1049,517,1057,453,1063,454,1054,518,1035,602,1019,646,998,689,971,728,939,762,912,781,887,791,862,795,838,795,787,794,759,797,728,807,672,837,628,869"/>
<area shape="poly" id="edge32_Node000017_Node000005" title=" " alt="" coords="657,886,727,896,990,923,989,928,726,902,657,891"/>
<area shape="poly" id="edge31_Node000017_Node000012" title=" " alt="" coords="657,867,755,844,756,850,658,872"/>
<area shape="poly" id="edge37_Node000018_Node000003" title=" " alt="" coords="671,765,830,733,899,715,936,701,963,674,986,643,1005,609,1021,574,1043,506,1055,452,1060,453,1048,507,1026,576,1010,611,990,646,967,678,938,705,900,720,831,738,673,770"/>
<area shape="poly" id="edge39_Node000018_Node000005" title=" " alt="" coords="628,791,672,822,728,853,784,872,830,880,878,886,938,896,996,911,994,916,936,902,877,891,830,885,783,877,726,858,669,827,625,795"/>
<area shape="poly" id="edge38_Node000018_Node000009" title=" " alt="" coords="660,763,677,752,696,728,704,705,711,680,724,651,765,595,805,549,809,553,769,598,729,654,716,682,709,707,700,731,680,756,663,767"/>
<area shape="poly" id="edge36_Node000018_Node000011" title=" " alt="" coords="654,763,677,751,691,741,701,730,710,719,725,707,754,694,756,699,728,712,714,723,705,733,695,744,680,756,657,768"/>
<area shape="poly" id="edge41_Node000019_Node000020" title=" " alt="" coords="646,1143,776,1188,775,1193,644,1148"/>
<area shape="poly" id="edge42_Node000020_Node000015" title=" " alt="" coords="876,1221,1006,1265,1005,1270,874,1226"/>
<area shape="poly" id="edge44_Node000021_Node000020" title=" " alt="" coords="645,1228,741,1217,742,1223,646,1234"/>
<area shape="poly" id="edge53_Node000022_Node000003" title=" " alt="" coords="417,256,469,223,502,206,538,194,651,162,699,151,745,143,789,142,835,149,884,166,938,194,965,213,987,237,1022,292,1045,349,1059,395,1053,397,1040,350,1017,295,983,241,961,217,936,199,882,171,834,155,789,148,745,149,700,156,652,168,539,199,504,211,472,227,420,261"/>
<area shape="poly" id="edge55_Node000022_Node000004" title=" " alt="" coords="416,284,452,323,492,372,517,410,540,448,585,499,581,503,536,451,512,413,488,375,448,326,412,288"/>
<area shape="rect" id="Node000023" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a55cff283e2a5c946f529da8726c1f1ef" title="Get next frame from circular buffer (thread&#45;safe)" alt="" coords="538,208,679,235"/>
<area shape="poly" id="edge51_Node000022_Node000023" title=" " alt="" coords="457,256,535,237,536,242,458,261"/>
<area shape="rect" id="Node000025" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#aa8c08bfac314262911ef11eec599bcf1" title="Calculate elapsed microseconds with overflow protection." alt="" coords="542,259,675,286"/>
<area shape="poly" id="edge54_Node000022_Node000025" title=" " alt="" coords="482,270,527,270,527,275,482,275"/>
<area shape="rect" id="Node000024" href="$_lidar-_r_p2040-_r_e_v-0-1_8ino.html#a44666b40c4586e1995b8328740edd6f0" title="Thread&#45;safe increment of frames processed counter." alt="" coords="727,208,937,235"/>
<area shape="poly" id="edge52_Node000023_Node000024" title=" " alt="" coords="679,219,711,219,711,224,679,224"/>
<area shape="poly" id="edge58_Node000027_Node000003" title=" " alt="" coords="230,53,363,23,452,11,549,4,650,6,752,20,801,33,849,50,895,72,939,100,972,130,999,167,1020,207,1036,250,1056,331,1063,395,1058,396,1050,332,1031,251,1015,209,995,169,968,134,935,104,893,77,847,55,800,38,751,25,650,11,549,9,452,16,364,29,231,58"/>
</map>
